jQuery(document).ready(function(a){function b(a,b,c,d,e){if("markup"===a||"price"===a){"undefined"==typeof e&&(e=!1);var f,g,h=b.attr("name"),i="_variable"===h.slice(-9)?"_variable":"";e?(f='input[name^="variable_ewsp_wc_wholesale_markup"]',g='input[name^="variable_ewsp_wc_wholesale_price"]'):(f='input[name="_ewsp_wc_wholesale_markup'+i+'"]',g='input[name="_ewsp_wc_wholesale_price'+i+'"]');var j=c.find(f),k=c.find(g);if(0!==j.length&&0!==k.length){var l=d.val(),m=j.val(),n=k.val();if(m=m.replace("%",""),e&&(m||(m=j.attr("placeholder"),j.val(m)),n||(n=k.attr("placeholder"),k.val(n))),m/=100,"price"===a&&n!==l*(1+m)){var o=l*(1+m);o=o.toFixed(2),k.val(o)}if("markup"===a&&n!==l*(1+m)){var p=100*(n/l-1);j.val(p)}}}}function c(a,b,c,d,e){if("markup"===a||"price"===a){"undefined"==typeof e&&(e=!1);var f,g,h,i=b.attr("name"),j="_variable"===i.slice(-9)?"_variable":"";e?(f='input[name^="variable_ewsp_wc_suggested_retail_markup"]',g='input[name^="variable_ewsp_wc_suggested_retail_price"]',h='input[name^="variable_ewsp_wc_wholesale_price"]'):(f='input[name="_ewsp_wc_suggested_retail_markup'+j+'"]',g='input[name="_ewsp_wc_suggested_retail_price'+j+'"]',h='input[name="_ewsp_wc_wholesale_price'+j+'"]');var k=c.find(f),l=c.find(g),m=d.find(h);if(0!==k.length&&0!==l.length&&0!==m.length){var n=k.val(),o=l.val(),p=m.val();if(n=n.replace("%",""),e&&(n||(n=k.attr("placeholder"),k.val(n)),o||(o=l.attr("placeholder"),l.val(o))),n/=100,"price"===a&&o!==p*(1+n)){var q=p*(1+n);q=q.toFixed(2),l.val(q)}if("markup"===a&&o!==p*(1+n)){var r=100*(o/p-1);k.val(r)}}}}a(".options_group .ewsp_wholesale_fields input[name^='_ewsp_wc_wholesale_markup']").on("keyup change",function(){var d=a(this).attr("name"),e="_variable"===d.slice(-9)?"_variable":"",f=a(this).closest(".options_group").find('input[name="_wc_cog_cost'+e+'"]'),g=a(this).closest(".ewsp_wholesale_fields");g.length>0&&b("price",a(this),g,f);var h=g.siblings(".ewsp_suggested_retail_fields");h.length>0&&c("price",a(this),h,g)}),a(".woocommerce_variation .ewsp_wholesale_fields input[name^='variable_ewsp_wc_wholesale_markup']").on("keyup change",function(){var d=a(this).attr("name"),e=("_variable"===d.slice(-9)?"_variable":"",a(this).closest(".woocommerce_variation").find('input[name^="variable_cost_of_good"]')),f=a(this).closest(".ewsp_wholesale_fields");f.length>0&&b("price",a(this),f,e,!0);var g=f.siblings(".ewsp_suggested_retail_fields");g.length>0&&c("price",a(this),g,f,!0)}),a(".ewsp-pricing-fields.inline-edit-col .ewsp_wholesale_fields input[name^='_ewsp_wc_wholesale_markup']").on("keyup change",function(){var d=a(this).attr("name"),e="_variable"===d.slice(-9)?"_variable":"",f=a(this).closest(".ewsp-pricing-fields.inline-edit-col").find('input[name="_wc_cog_cost'+e+'"]'),g=a(this).closest(".ewsp_wholesale_fields");g.length>0&&b("price",a(this),g,f);var h=g.siblings(".ewsp_suggested_retail_fields");h.length>0&&c("price",a(this),h,g)}),a(".options_group .ewsp_wholesale_fields input[name^='_ewsp_wc_wholesale_price']").on("keyup",function(){var d=a(this).attr("name"),e="_variable"===d.slice(-9)?"_variable":"",f=a(this).closest(".options_group").find('input[name="_wc_cog_cost'+e+'"]'),g=a(this).closest(".ewsp_wholesale_fields");g.length>0&&b("markup",a(this),g,f);var h=g.siblings(".ewsp_suggested_retail_fields");h.length>0&&c("price",a(this),h,g)}),a(".woocommerce_variation .ewsp_wholesale_fields input[name^='variable_ewsp_wc_wholesale_price']").on("keyup",function(){var d=a(this).attr("name"),e=("_variable"===d.slice(-9)?"_variable":"",a(this).closest(".woocommerce_variation").find('input[name^="variable_cost_of_good"]')),f=a(this).closest(".ewsp_wholesale_fields");f.length>0&&b("markup",a(this),f,e,!0);var g=f.siblings(".ewsp_suggested_retail_fields");g.length>0&&c("price",a(this),g,f,!0)}),a(".ewsp-pricing-fields.inline-edit-col .ewsp_wholesale_fields input[name^='_ewsp_wc_wholesale_price']").on("keyup",function(){var d=a(this).attr("name"),e="_variable"===d.slice(-9)?"_variable":"",f=a(this).closest(".ewsp-pricing-fields.inline-edit-col").find('input[name="_wc_cog_cost'+e+'"]'),g=a(this).closest(".ewsp_wholesale_fields");g.length>0&&b("markup",a(this),g,f);var h=g.siblings(".ewsp_suggested_retail_fields");h.length>0&&c("price",a(this),h,g)}),a(".options_group ._wc_cog_cost_variable_field input[name^='_wc_cog_cost']").on("keyup change",function(){var d=a(this).closest(".options_group").find(".ewsp_wholesale_fields");d.length>0&&b("price",a(this),d,a(this));var e=d.siblings(".ewsp_suggested_retail_fields");e.length>0&&c("price",a(this),e,d)}),a(".woocommerce_variation input[name^='variable_cost_of_good']").on("keyup change",function(){var d=a(this).closest(".woocommerce_variation").find(".ewsp_wholesale_fields");d.length>0&&b("price",a(this),d,a(this),!0);var e=d.siblings(".ewsp_suggested_retail_fields");e.length>0&&c("price",a(this),e,d,!0)}),a(".ewsp-pricing-fields.inline-edit-col input[name^='_wc_cog_cost']").on("keyup change",function(){var d=a(this).closest(".ewsp-pricing-field-wrapper").find(".ewsp_wholesale_fields");d.length>0&&b("price",a(this),d,a(this));var e=d.siblings(".ewsp_suggested_retail_fields");e.length>0&&c("price",a(this),e,d)}),a(".options_group .ewsp_suggested_retail_fields input[name^='_ewsp_wc_suggested_retail_markup']").on("keyup change",function(){var b=a(this).closest(".ewsp_suggested_retail_fields"),d=b.siblings(".ewsp_wholesale_fields");b.length>0&&c("price",a(this),b,d)}),a(".woocommerce_variation .ewsp_suggested_retail_fields input[name^='variable_ewsp_wc_suggested_retail_markup']").on("keyup change",function(){var b=a(this).closest(".ewsp_suggested_retail_fields"),d=b.siblings(".ewsp_wholesale_fields");b.length>0&&c("price",a(this),b,d,!0)}),a(".ewsp-pricing-fields.inline-edit-col .ewsp_suggested_retail_fields input[name^='_ewsp_wc_suggested_retail_markup']").on("keyup change",function(){var b=a(this).closest(".ewsp_suggested_retail_fields"),d=b.siblings(".ewsp_wholesale_fields");b.length>0&&c("price",a(this),b,d)}),a(".options_group .ewsp_suggested_retail_fields input[name^='_ewsp_wc_suggested_retail_price']").on("keyup",function(){var b=a(this).closest(".ewsp_suggested_retail_fields"),d=b.siblings(".ewsp_wholesale_fields");b.length>0&&c("markup",a(this),b,d)}),a(".woocommerce_variation .ewsp_suggested_retail_fields input[name^='variable_ewsp_wc_suggested_retail_price']").on("keyup",function(){var b=a(this).closest(".ewsp_suggested_retail_fields"),d=b.siblings(".ewsp_wholesale_fields");b.length>0&&c("markup",a(this),b,d,!0)}),a(".ewsp-pricing-fields.inline-edit-col .ewsp_suggested_retail_fields input[name^='_ewsp_wc_suggested_retail_price']").on("keyup",function(){var b=a(this).closest(".ewsp_suggested_retail_fields"),d=b.siblings(".ewsp_wholesale_fields");b.length>0&&c("markup",a(this),b,d)})});